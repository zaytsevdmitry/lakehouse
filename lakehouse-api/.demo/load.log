/home/dm1/projects/lakehouse/lakehouse-api/.demo
datasets
dataset-sql-model
datastores
load.log
load.sh
projects
scenario-act-templates
schedules
taskexecutionservicegroups
server is 127.0.0.1:8080/v1_0/configs
HTTP/1.1 201 
Content-Type: application/json
Transfer-Encoding: chunked
Date: Wed, 21 Aug 2024 14:02:11 GMT

{"name":"DEMO","description":"Demo project"}HTTP/1.1 201 
Content-Type: application/json
Transfer-Encoding: chunked
Date: Wed, 21 Aug 2024 14:02:11 GMT

{"name":"processingdb","interfaceType":"jdbc","vendor":"postgres","properties":{"password":"${very-secret-password}","user":"lakehauseplatform","url":"jdbc:mysql:processingdb.com"},"description":"Remote datastore processingdb"}HTTP/1.1 201 
Content-Type: application/json
Transfer-Encoding: chunked
Date: Wed, 21 Aug 2024 14:02:11 GMT

{"name":"lakehousestorage","interfaceType":"filesystem","vendor":"s3","properties":{"tokenName":"lakehauseplatform","url":"s3://somepath","token":"${token}"},"description":"Local datastore"}HTTP/1.1 201 
Content-Type: application/json
Transfer-Encoding: chunked
Date: Wed, 21 Aug 2024 14:02:11 GMT

{"name":"client_processing","project":"DEMO","dataStore":"processingdb","sources":[],"columnSchema":[{"name":"id","description":"Client id","dataType":"bigint","nullable":false},{"name":"name","description":"Client name","dataType":"string","nullable":false},{"name":"reg_date_time","description":"Client registration","dataType":"string","nullable":false}],"properties":{"data-end-point":"proc.client"},"description":"remote dataset with clients"}HTTP/1.1 201 
Content-Type: application/json
Transfer-Encoding: chunked
Date: Wed, 21 Aug 2024 14:02:11 GMT

{"name":"transaction_processing","project":"DEMO","dataStore":"processingdb","sources":[],"columnSchema":[{"name":"amount","description":"Amount paid by the client","dataType":"decimal","nullable":false},{"name":"client_id","description":"from client","dataType":"string","nullable":false},{"name":"commission","description":"Commission due to us","dataType":"string","nullable":false},{"name":"id","description":"tx id","dataType":"bigint","nullable":false},{"name":"provider_id","description":"To provider","dataType":"string","nullable":false},{"name":"reg_date_time","description":"Transaction registration","dataType":"timestamp","nullable":false}],"properties":{"data-end-point":"proc.transactions"},"description":"remote transactions table placed  in db schema proc"}HTTP/1.1 201 
Content-Type: application/json
Transfer-Encoding: chunked
Date: Wed, 21 Aug 2024 14:02:11 GMT

{"name":"transaction_dds","project":"DEMO","dataStore":"lakehousestorage","sources":[{"name":"client_processing","properties":{"fetchSize":"10000"}},{"name":"transaction_processing","properties":{"fetchSize":"10000"}}],"columnSchema":[{"name":"amount","description":"Amount paid by the client","dataType":"decimal","nullable":false},{"name":"client_id","description":"from client","dataType":"string","nullable":false},{"name":"commission","description":"Commission due to us","dataType":"string","nullable":false},{"name":"id","description":"tx id","dataType":"bigint","nullable":false},{"name":"name","description":"Client name","dataType":"string","nullable":false},{"name":"provider_id","description":"To provider","dataType":"string","nullable":false},{"name":"reg_date_time","description":"Transaction registration","dataType":"timestamp","nullable":false}],"properties":{"data-end-point":"/mytabs/transaction_dds"},"description":"Details"}HTTP/1.1 201 
Content-Type: application/json
Transfer-Encoding: chunked
Date: Wed, 21 Aug 2024 14:02:11 GMT

{"name":"aggregation_pay_per_client_daily_mart","project":"DEMO","dataStore":"lakehousestorage","sources":[{"name":"transaction_dds","properties":{}}],"columnSchema":[{"name":"client_name","description":"Name of client","dataType":"string","nullable":false},{"name":"reg_date","description":"Truncated reg date time for daily aggregation","dataType":"date","nullable":false},{"name":"sum_amount","description":"Sum by client","dataType":"decimal","nullable":false},{"name":"sum_commission","description":"Our profit)","dataType":"decimal","nullable":false}],"properties":{"data-end-point":"/demo/datamarts/aggregation_pay_per_client_daily_mart"},"description":"We want to know who our most profitable clients are"}HTTP/1.1 201 
Content-Type: application/json
Transfer-Encoding: chunked
Date: Wed, 21 Aug 2024 14:02:11 GMT

{"name":"aggregation_pay_per_client_total_mart","project":"DEMO","dataStore":"lakehousestorage","sources":[{"name":"transaction_dds","properties":{}}],"columnSchema":[{"name":"client_name","description":"Name of client","dataType":"string","nullable":false},{"name":"sum_amount","description":"Sum by client","dataType":"decimal","nullable":false},{"name":"sum_commission","description":"Our profit)","dataType":"decimal","nullable":false}],"properties":{"data-end-point":"/demo/datamarts/aggregation_pay_per_client_total_mart"},"description":"We want to know who our most profitable clients are"}HTTP/1.1 201 
Content-Type: application/json
Transfer-Encoding: chunked
Date: Wed, 21 Aug 2024 14:02:11 GMT

{"name":"default","description":null}HTTP/1.1 201 
Content-Type: application/json
Transfer-Encoding: chunked
Date: Wed, 21 Aug 2024 14:02:11 GMT

{"name":"default","description":"Default scenario","tasks":[{"name":"apply","taskExecutionServiceGroupName":"default","executionModule":"example.datamanipulation.Apply","importance":"critical","description":"load from remote datastore","executionModuleArgs":{}},{"name":"dataQualityAfterCritical","taskExecutionServiceGroupName":"default","executionModule":"example.datamanipulation.DataQualityAfterCritical","importance":"critical","description":"load from remote datastore","executionModuleArgs":{}},{"name":"dataQualityAfterWarn","taskExecutionServiceGroupName":"default","executionModule":"example.datamanipulation.DataQualityAfterWarn","importance":"critical","description":"load from remote datastore","executionModuleArgs":{}},{"name":"dataQualityBefore","taskExecutionServiceGroupName":"default","executionModule":"example.datamanipulation.DataQualityBefore","importance":"warn","description":"load from remote datastore","executionModuleArgs":{}},{"name":"finally","taskExecutionServiceGroupName":"default","executionModule":"example.datamanipulation.Finally","importance":"critical","description":"load from remote datastore","executionModuleArgs":{}},{"name":"load","taskExecutionServiceGroupName":"default","executionModule":"example.datamanipulation.Load","importance":"critical","description":"load from remote datastore","executionModuleArgs":{"spark.executor.memory":"5gb","spark.driver.memory":"2gb"}},{"name":"merge","taskExecutionServiceGroupName":"default","executionModule":"example.datamanipulation.Merge","importance":"critical","description":"load from remote datastore","executionModuleArgs":{}}],"dagEdges":[{"from":"apply","to":"dataQualityAfterCritical"},{"from":"apply","to":"dataQualityAfterWarn"},{"from":"dataQualityAfterCritical","to":"finally"},{"from":"dataQualityAfterWarn","to":"finally"},{"from":"dataQualityBefore","to":"apply"},{"from":"load","to":"merge"},{"from":"merge","to":"dataQualityBefore"}]}HTTP/1.1 201 
Content-Type: application/json
Transfer-Encoding: chunked
Date: Wed, 21 Aug 2024 14:02:11 GMT

{"name":"regular","description":"regular schedule for client transactions","intervalExpression":"0 0 * * * *","startDateTime":"2024-07-29T21:26:19.183Z","stopDateTime":null,"scenarioActs":[{"name":"aggregation_pay_per_client_daily_mart","dataSet":"aggregation_pay_per_client_daily_mart","scenarioActTemplate":"default"},{"name":"aggregation_pay_per_client_total_mart","dataSet":"aggregation_pay_per_client_total_mart","scenarioActTemplate":"default"},{"name":"transaction_dds","dataSet":"transaction_dds","scenarioActTemplate":"default"}],"scenarioActEdges":[{"from":"transaction_dds","to":"aggregation_pay_per_client_daily_mart"},{"from":"transaction_dds","to":"aggregation_pay_per_client_total_mart"}],"enabled":true}HTTP/1.1 201 
Content-Type: application/json
Transfer-Encoding: chunked
Date: Wed, 21 Aug 2024 14:02:11 GMT

{"name":"initial","description":"initial schedule for client transactions","intervalExpression":"0 0 1 1 * *","startDateTime":"1999-12-31T21:00:00Z","stopDateTime":null,"scenarioActs":[{"name":"aggregation_pay_per_client_daily_mart","dataSet":"aggregation_pay_per_client_daily_mart","scenarioActTemplate":"default"},{"name":"aggregation_pay_per_client_total_mart","dataSet":"aggregation_pay_per_client_total_mart","scenarioActTemplate":"default"},{"name":"transaction_dds","dataSet":"transaction_dds","scenarioActTemplate":"default"}],"scenarioActEdges":[{"from":"transaction_dds","to":"aggregation_pay_per_client_daily_mart"},{"from":"transaction_dds","to":"aggregation_pay_per_client_total_mart"}],"enabled":true}